<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Centralized Club Application</title>

<style>
body {
  font-family: Arial, sans-serif;
  background-color: #f2f2f2;
}
form {
  width: 600px;
  margin: 30px auto;
  background: #fff;
  padding: 20px;
  border-radius: 8px;
}
fieldset {
  margin-bottom: 15px;
}
.invalid {
  border: 2px solid red;
}
.buttons {
  text-align: center;
}
button {
  padding: 8px 15px;
  margin: 5px;
}
</style>

<script>
const STORAGE_KEY = "clubSignUps";

/* Load existing sign-ups or initialize empty array */
function loadSignUps() {
  const raw = localStorage.getItem(STORAGE_KEY);
  return raw ? JSON.parse(raw) : [];
}

/* Save sign-ups back to localStorage */
function saveSignUps(data) {
  localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
}

/* Form submission handler */
function submitForm(event) {
  event.preventDefault();

  if (!confirm("Do you want to submit this application?")) return;

  const form = event.target;

  const signUp = {
    studentId: form.student_id.value,
    fullName: form.full_name.value,
    birthday: form.birthday.value,
    email: form.email.value,
    phone: form.mobile_phone.value,
    grade: form.grade_level.value,
    status: form.status.value,
    club: form.club.value,
    reason: form.reason.value,
    time: new Date().toLocaleString()
  };

  const signUps = loadSignUps();
  signUps.push(signUp);          // grow array
  saveSignUps(signUps);          // persist to localStorage

  alert("Application saved successfully!");
  form.reset();
}
</script>
</head>

<body>

<form onsubmit="submitForm(event)">
  <fieldset>
    <legend>Personal Information</legend>

    <label>Student ID:
      <input type="number" name="student_id" required>
    </label>

    <label>Full Name:
      <input type="text" name="full_name" required>
    </label>

    <label>Birthday:
      <input type="date" name="birthday" required>
    </label>

    <label>Email:
      <input type="email" name="email" required>
    </label>
  </fieldset>

  <fieldset>
    <legend>Organization Information</legend>

    <label>Mobile Phone:
      <input type="text" name="mobile_phone" required>
    </label>

    <label>Grade Level:
      <select name="grade_level" required>
        <option value="">Select</option>
        <option>Grade 7</option>
        <option>Grade 8</option>
        <option>Grade 9</option>
        <option>Grade 10</option>
        <option>Grade 11</option>
        <option>Grade 12</option>
      </select>
    </label>

    <label>
      <input type="radio" name="status" value="Intern" required> Intern
      <input type="radio" name="status" value="Extern" required> Extern
    </label>

    <label>Preferred Club:
      <select name="club" required>
        <option value="">Select</option>
        <option>Technology Club</option>
        <option>Arts Club</option>
        <option>Sports Club</option>
        <option>Science Club</option>
        <option>Music Club</option>
      </select>
    </label>

    <label>Reason:
      <textarea name="reason" required></textarea>
    </label>
  </fieldset>

  <div class="buttons">
    <button type="submit">Submit</button>
    <button type="button" onclick="location.href='viewSignUps.html'">
      View Sign-Ups
    </button>
  </div>
</form>

</body>
</html>
